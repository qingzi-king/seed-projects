{"version":3,"sources":["components/Layout.jsx","components/Header.jsx","services/api.js","components/Drawer.jsx","pages/console/project/Home.jsx","services/request.js","pages/console/project/Create.jsx","pages/console/project/Modify.jsx","pages/console/project/SetPerson.jsx","pages/console/role/Home.jsx","pages/console/authorization/Home.jsx","pages/common/Warning.jsx","pages/console/Home.jsx"],"names":["Header","Content","Footer","LayoutUnit","WrappedComponent","options","className","this","props","Component","Home","handleVisibleChange","setState","visible","state","handleRedirect","history","push","userNavigationCustom","defaultSelectedKeys","global","G_SPLIT_URL_PARAMS","src","alt","G_SYSTEM_TITLE","name","subName","theme","mode","Item","key","to","placement","title","content","trigger","onVisibleChange","getStandardRoles","queryStr","a","baseUrl","axios","getUsers","getProjects","createProject","datas","getProject","uuid","modifyProject","setProjectPerson","changeProjectUser","p_uuid","u_uuid","deleteProjectUser","getModularAuths","isVisible","width","children","callbackParent","useState","setVisible","useEffect","onClose","ProjectPage","handleGetProjects","loading","res","columns","dataIndex","render","text","record","index","G_DATE_FORMAT","resStatue","G_ENUM","projectStatus","find","o","value","label","Owner","size","type","danger","onClick","handleVisibleDrawer","bind","dataSource","projects","subModalComponent","subModalTitle","onclose","project","style","marginBottom","length","rowKey","bordered","pagination","pageSize","requestURLRate","axiosRequest","api","method","params","maxRequestCycleCount","serverHost","headers","nowTimestamp","Date","getTime","remove","timestamp","hasRequestURLRate","findLast","warning","errcode","msg","Promise","resolve","reject","authorization","url","G_SERVER_HOST","data","then","error","console","log","JSON","stringify","catch","RangePicker","TextArea","Option","setLoading","onFinish","values","dateRange","describe","stage","startTime","endTime","success","spinning","labelCol","span","wrapperCol","initialValues","rules","required","message","placeholder","rows","projectTypes","map","projectStages","htmlType","marginLeft","status","AddPersonUnit","useForm","form","setIsVisible","globalUsers","setGlobalUsers","handleGetUsers","handleVisible","users","userIds","roleCode","userId","resetFields","user","id","mobile","slice","standardRoles","role","code","shorthand","SetPersonUnit","selectedUser","setSelectedUser","setUsers","setStandardRoles","handleGetStandardRoles","handleGetProject","Users","handleSelectedUserRole","handleSelectedRole","hasRole","roles","handleUserRole","roleStr","join","roleCodes","includes","confirm","icon","okType","onOk","onCancel","RoleUnit","handleGetModularAuths","AuthModularItems","auth","User","marginTop","StandardRole","minWidth","modularAuths","Warning","height","handleMenu","e","subComponent","defaultSelectedKey","selectedKeys","LayoutHOC"],"mappings":"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","file":"static/js/7.e6ad4a72.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Layout } from 'antd';\nimport HeaderUnit from './Header';\nimport './Common.less';\n\nconst { Header, Content, Footer } = Layout;\n\nconst LayoutUnit = (WrappedComponent, options) => {\n\n  return class HOC extends Component {\n      render() {\n          return (\n            <Layout className=\"d-layout\">\n              <Header className=\"d-layout-header-container\">\n                <HeaderUnit />\n              </Header>\n              <Content className=\"d-layout-body-container\">\n                <div className=\"d-content-container\">\n                  {/* 内容体 */\n                    WrappedComponent && <WrappedComponent {...this.props} />\n                  }\n                </div>\n              </Content>\n            </Layout>\n          )\n      }\n  }\n}\n\nexport default LayoutUnit;","import React, { Component, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Menu, Tooltip, Popover } from 'antd';\nimport { RetweetOutlined } from '@ant-design/icons';\nimport './Common.less';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false,\n    }\n  }\n  componentDidMount() {\n  }\n  handleVisibleChange = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n  handleRedirect = () => {\n    this.props.history.push('');\n  }\n  render() {\n    const state = this.state;\n    const userNavigationCustom = (\n      <div className=\"d-navigation-custom-avatar\">\n        <ul className=\"d-navigation-menu\">\n          <li className=\"d-navigation-menu-item\">退出登录</li>\n        </ul>\n      </div>\n    );\n\n    let realKeys = global.G_SPLIT_URL_PARAMS();\n    let defaultSelectedKeys = realKeys[0];\n\n    return (\n      <div className=\"d-header\">\n        <div className=\"d-header-left\">\n          <div className=\"d-logo\">\n            <img src=\"http://docs.antjob.ink/funenc/funenc-logo.jpg\" alt=\"logo\" />\n          </div>\n          <div className=\"d-header-title\">{ global.G_SYSTEM_TITLE.name }</div>\n          <div className=\"d-header-company\">{ global.G_SYSTEM_TITLE.subName }</div>\n        </div>\n        <div className=\"d-header-right\">\n          <Menu\n            theme=\"light\"\n            mode=\"horizontal\"\n            defaultSelectedKeys={defaultSelectedKeys}\n            className=\"d-header-nav\"\n          >\n            <Menu.Item key=\"board\">\n              <Link to=\"/board\">看板</Link>\n            </Menu.Item>\n            <Menu.Item key=\"plan\">\n              <Link to=\"/plan\">计划管理</Link>\n            </Menu.Item>\n            <Menu.Item key=\"report\">\n              <Link to=\"/report\">工作报告</Link>\n            </Menu.Item>\n            <Menu.Item key=\"console\">\n              <Link to=\"/console\">控制台</Link>\n            </Menu.Item>\n          </Menu>\n          <div className=\"d-project\">\n            交控MAAS项目\n            <Tooltip placement=\"bottom\" title=\"切换项目\">\n              <RetweetOutlined className=\"d-header-icon\" />\n            </Tooltip>\n          </div>\n          <div className=\"d-avatar\">\n            <Popover\n              content={userNavigationCustom}\n              title=\"\"\n              trigger=\"hover\"\n              visible={state.visible}\n              onVisibleChange={this.handleVisibleChange}\n              placement=\"bottomRight\"\n            >\n              <img src=\"https://wework.qpic.cn/wwhead/nMl9ssowtibVGyrmvBiaibzDmibhjC2qqJsFibbRhEwic0xCtj4LdP6MT4dtWPRTTpRWM0QibY8zHZIhFg/0\" alt=\"avatar\" />\n            </Popover>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;","/*\n * @Descripttion: \n * @Author: qingzi.wang\n * @Date: 2020-07-31 09:25:21\n */\nimport axios from './request';\n\nexport async function getStandardRoles(queryStr) {\n  let baseUrl = `/api/standardRoles`;\n  if (queryStr) baseUrl += queryStr;\n  return axios(baseUrl, 'GET', null); // 获取标准角色\n}\nexport async function getUsers(queryStr) {\n  let baseUrl = `/api/users`;\n  if (queryStr) baseUrl += queryStr;\n  return axios(baseUrl, 'GET', null); // 获取人员\n}\n\nexport async function getProjects () {\n  return axios(`/api/projects`, 'GET', null); // 获取所有项目\n}\nexport async function createProject (datas) {\n  return axios(`/api/project`, 'POST', datas); // 创建项目\n}\nexport async function getProject (uuid) {\n  return axios(`/api/projects/${uuid}`, 'GET', null); // 获取指定项目\n}\nexport async function modifyProject (uuid, datas) {\n  return axios(`/api/projects/${uuid}`, 'PUT', datas); // 修改项目\n}\nexport async function deleteProject (uuid) {\n  return axios(`/api/projects/${uuid}`, 'DELETE', null); // 删除项目\n}\nexport async function setProjectPerson (uuid, datas) {\n  return axios(`/api/projects/${uuid}/addPerson`, 'POST', datas); // 设置项目成员\n}\nexport async function changeProjectUser (p_uuid, u_uuid, datas) {\n  return axios(`/api/projects/${p_uuid}/users/${u_uuid}`, 'POST', datas); // 变更项目成员\n}\nexport async function deleteProjectUser (p_uuid, u_uuid) {\n  return axios(`/api/projects/${p_uuid}/users/${u_uuid}`, 'DELETE', null); // 删除项目指定成员\n}\nexport async function getModularAuths() {\n  return axios(`/api/modular-auths`, 'GET', null); // 获取模块权限\n}","import React, { Component, useState, useEffect } from 'react';\nimport { Drawer, Button } from 'antd';\n\nconst Home = (props) => {\n\n  const { title, isVisible, width, children, callbackParent } = props;\n\n  const [visible, setVisible] = useState(isVisible);\n\n  const onClose = () => {\n    setVisible(false);\n\n    if (callbackParent) callbackParent();\n\n  };\n\n  useEffect(() => {\n    setVisible(isVisible);\n  })\n\n  return (\n    <>\n      <Drawer\n        width={ width || '60%' }\n        title={ title }\n        placement=\"right\"\n        onClose={ onClose }\n        visible={ visible }\n      >\n        { children }\n      </Drawer>\n    </>\n  );\n};\n\nexport default Home;","import React, { Component, Fragement } from 'react';\nimport { Table, Button } from 'antd';\nimport { getProjects } from '../../../services/api';\n\nimport DrawerUnit from '../../../components/Drawer';\nimport CreateProjectUnit from './Create';\nimport ModifyProjectUnit from './Modify';\nimport SetPersonUnit from './SetPerson';\n\nclass ProjectPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      dataSource: [],\n      columns: [],\n      subModalComponent: null,\n      subModalTitle: null,\n    }\n  }\n  componentDidMount() {\n    this.handleGetProjects();\n  }\n  handleGetProjects = async () => {\n    this.setState({ loading: true });\n\n    let res = await getProjects();\n\n    let columns = [\n      {\n        title: '序号',\n        dataIndex: 'index',\n        render: (text, record, index) => {\n          return index + 1;\n        }\n      },\n      {\n        title: '名称',\n        dataIndex: 'name',\n      },\n      {\n        title: '类型',\n        dataIndex: 'type',\n        render: (text, record) => {\n          return text || '/';\n        }\n      },\n      {\n        title: '阶段',\n        dataIndex: 'stage',\n        render: (text, record) => {\n          return text || '/';\n        }\n      },\n      {\n        title: '开始时间',\n        dataIndex: 'startTime',\n        render: (text, record) => {\n          return global.G_DATE_FORMAT(text);\n        }\n      },\n      {\n        title: '结束时间',\n        dataIndex: 'endTime',\n        render: (text, record) => {\n          return global.G_DATE_FORMAT(text);\n        }\n      },\n      {\n        title: '状态',\n        dataIndex: 'status',\n        render: (text, record) => {\n          let resStatue = global.G_ENUM.projectStatus.find(o => o.value === text);\n          return resStatue ? resStatue.label : '/';\n        }\n      },\n      {\n        title: '创建人',\n        dataIndex: 'owner',\n        render: (text, record) => {\n          return record.Owner.name || '/';\n        }\n      },\n      {\n        title: '操作',\n        dataIndex: 'options',\n        render: (text, record) => {\n          return (\n            <>\n              <Button size=\"small\" type=\"link\" danger onClick={this.handleVisibleDrawer.bind(this, 'modifyProject', record)}>修改</Button>\n              <Button size=\"small\" type=\"link\" danger onClick={this.handleVisibleDrawer.bind(this, 'setPerson', record)}>成员设置</Button>\n            </>\n          )\n        }\n      }\n    ];\n\n    this.setState({\n      columns,\n      dataSource: res.projects,\n      visible: false,\n      loading: false\n    });\n  }\n  handleVisibleDrawer = (type, record) => {\n    let subModalComponent, subModalTitle;\n    let { visible } = this.state;\n\n    switch (type) {\n      case 'createProject':\n        subModalTitle = '新建项目';\n        subModalComponent = <CreateProjectUnit onclose={this.handleVisibleDrawer} callbackParent={this.handleGetProjects} />;\n      break;\n      case 'modifyProject':\n        subModalTitle = '更新项目';\n        subModalComponent = <ModifyProjectUnit project={record} onclose={this.handleVisibleDrawer} callbackParent={this.handleGetProjects} />;\n      break;\n      case 'setPerson':\n        subModalTitle = '设置项目成员';\n        subModalComponent = <SetPersonUnit project={record} onclose={this.handleVisibleDrawer} callbackParent={this.handleGetProjects} />;\n      break;\n      case 'cancel':\n      break;\n      default:\n      break;\n    }\n\n    this.setState({\n      visible: !visible,\n      subModalTitle,\n      subModalComponent\n    });\n  }\n  render() {\n    const state = this.state;\n    return (\n      <div>\n        <div style={{marginBottom:15}}>\n          <Button type=\"primary\" onClick={this.handleVisibleDrawer.bind(this, 'createProject')}>新建项目</Button>\n          <small className=\"d-text-gray\">（当前共有项目{state.dataSource.length}个）</small>\n        </div>\n        <Table\n          className=\"d-table-center-container\"\n          dataSource={state.dataSource}\n          columns={state.columns}\n          loading={state.loading}\n          rowKey={record => record.uuid}\n          bordered\n          pagination={{ pageSize: 20 }}\n        />\n        <DrawerUnit\n          title={state.subModalTitle}\n          isVisible={state.visible}\n          callbackParent={this.handleVisibleDrawer}\n        >\n          { state.subModalComponent }\n        </DrawerUnit>\n      </div>\n    );\n  }\n}\n\nexport default ProjectPage;","/*\n * @Descripttion: \n * @Author: qingzi.wang\n * @Date: 2020-07-31 09:25:21\n */\nimport axios from 'axios';\nimport { message } from 'antd';\nimport {\n  remove,\n  findLast\n} from 'lodash';\nconst baseWaitTime = 500; // 默认的等待时间500毫秒\n\nconst requestURLRate = []; // 如：{ api: '/api/standardRoles', timestamp: 1596597701181 }\n\n/**\n * 请求出入口\n * @param {*} api 地址\n * @param {*} method 方法，默认为GET\n * @param {*} params 参数，默认为空对象\n * @param {*} maxRequestCycleCount 最大请求频次（与baseWaitTime结合），默认为1\n * @param {*} serverHost 接口主机地址\n * @param {*} headers 传入头部信息，默认为空对象\n */\nexport default function axiosRequest(api, method = 'GET', params = {}, maxRequestCycleCount = 1, serverHost, headers = {}) {\n\n  // 针对非GET请求进行限流拦截\n  if (method != 'GET') {\n\n    let nowTimestamp = new Date().getTime(); // 当前时间戳\n\n    // 去除当前接口指定周期外的数据\n    remove(requestURLRate, (o) => {\n      return o.api === api && o.timestamp < nowTimestamp - (maxRequestCycleCount * baseWaitTime);\n    });\n\n    // 获取上一次请求信息（一般同周期只有一个，防止处理意外）\n    let hasRequestURLRate = findLast(requestURLRate, o => (o.api === api));\n\n    if (hasRequestURLRate) {\n\n      message.warning('当前访问的频次过高，请适当放慢手速！', 1);\n\n      // 为了保持数据完整性，返回数据与接口定义一致\n      return {\n        errcode: -100,\n        msg: null\n      };\n\n    } else {\n      requestURLRate.push({\n        api,\n        timestamp: new Date().getTime()\n      });\n    }\n\n  }\n\n  return new Promise((resolve, reject) => {\n    let token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImRpbmd0YWxrSWQiOiJtYW5hZ2VyNzg1MCIsImlhdCI6MTU5NjA5MzIzMywiZXhwIjoxNTk3Mzg5MjMzfQ.DREiuE1SYBlazQT1lxCLtLIkGsRSRVnkdrp_FqeDdQE';\n    axios({\n      method,\n      headers: {\n        ...headers,\n        authorization: 'Bearer ' + token,\n      },\n      url: (serverHost || global.G_SERVER_HOST) + api,\n      data: params\n    })\n    .then((res) => {\n\n      if (res.data.errcode && res.data.errcode < 0) {\n        message.error(res.data.msg || '请求错误！');\n        console.log(JSON.stringify(res.data));\n      }\n\n      resolve(res.data);\n\n    })\n    .catch((error) => {\n\n      if (error) {\n        message.error('服务端发生逻辑错误！');\n      }\n\n      reject(error);\n\n    })\n  })\n}","import React, { Component, useState } from 'react';\nimport { Spin, Form, Input, Button, DatePicker, Select, message } from 'antd';\nimport { createProject } from '../../../services/api';\nconst { RangePicker } = DatePicker;\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst Home = (props) => {\n\n  // 状态控制\n  const [loading, setLoading] = useState(false);\n\n  // 取消表单\n  const onCancel = values => {\n    props.onclose('cancel');\n  };\n\n  // 提交表单\n  const onFinish = async (values) => {\n\n    const { name, dateRange, describe, stage, type } = values;\n\n    let datas = {\n      name,\n      stage,\n      type,\n      describe\n    };\n\n    if (dateRange) {\n      datas.startTime = dateRange[0];\n      datas.endTime = dateRange[1];\n    }\n\n    setLoading(true);\n\n    let res = await createProject(datas);\n\n    setLoading(false);\n\n    if (res.errcode >= 0) {\n      message.success('项目创建成功！');\n      props.callbackParent(); // 关闭父容器\n    }\n\n  };\n\n  // 表单布局\n  const layout = {\n    labelCol: {\n      span: 5,\n    },\n    wrapperCol: {\n      span: 18,\n    },\n  };\n\n  return (\n    <Spin spinning={loading}>\n      <Form\n        {...layout}\n        name=\"basic\"\n        initialValues={{\n          type: '客户定制开发类',\n          stage: '开始',\n        }}\n        onFinish={onFinish}\n      >\n        <Form.Item\n          label=\"项目名称\"\n          name=\"name\"\n          rules={[\n            {\n              required: true,\n              message: '请输入项目名称！',\n            },\n          ]}\n        >\n          <Input placeholder=\"输入项目名称（可以使用中英文、数字组合）\" />\n        </Form.Item>\n        <Form.Item\n          label=\"起止时间\"\n          name=\"dateRange\"\n        >\n          <RangePicker />\n        </Form.Item>\n        <Form.Item\n          label=\"项目描述\"\n          name=\"describe\"\n        >\n          <TextArea rows={4} placeholder=\"100字以内项目描述（选填）\" />\n        </Form.Item>\n        <Form.Item\n          label=\"项目类型\"\n          name=\"type\"\n        >\n          <Select placeholder=\"选择项目类型\">\n            {\n              global.G_ENUM.projectTypes.map((type, index) => {\n                return <Option key={index} value={type}>{type}</Option>\n              })\n            }\n          </Select>\n        </Form.Item>\n        <Form.Item\n          label=\"项目阶段\"\n          name=\"stage\"\n        >\n          <Select placeholder=\"选择项目阶段\">\n            {\n              global.G_ENUM.projectStages.map((type, index) => {\n                return <Option key={index} value={type}>{type}</Option>\n              })\n            }\n          </Select>\n        </Form.Item>\n\n        <div className=\"d-textalign-center\">\n          <Button loading={loading} type=\"primary\" htmlType=\"submit\">立即新建</Button>\n          <Button type=\"dashed\" onClick={onCancel} style={{marginLeft:15}}>取消</Button>\n        </div>\n      </Form>\n    </Spin>\n  );\n};\n\nexport default Home;","import React, { Component, useState } from 'react';\nimport { Spin, Form, Input, Button, DatePicker, Select, message } from 'antd';\nimport { modifyProject } from '../../../services/api';\nconst { RangePicker } = DatePicker;\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nconst Home = (props) => {\n\n  // 状态控制\n  const [loading, setLoading] = useState(false);\n\n  // 取消表单\n  const onCancel = values => {\n    props.onclose('cancel');\n  };\n\n  // 提交表单\n  const onFinish = async (values) => {\n\n    if (!props.project || !props.project.uuid) {\n      return message.warning('获取项目信息失败！');\n    }\n\n    const { name, dateRange, describe, status, stage, type } = values;\n\n    let datas = {\n      name,\n      stage,\n      type,\n      status,\n      describe\n    };\n\n    if (dateRange) {\n      datas.startTime = dateRange[0];\n      datas.endTime = dateRange[1];\n    }\n\n    setLoading(true);\n\n    let res = await modifyProject(props.project.uuid, datas);\n\n    setLoading(false);\n\n    if (res.errcode >= 0) {\n      message.success('项目修改成功！');\n      props.callbackParent(); // 关闭父容器\n    }\n\n  };\n\n  // 表单布局\n  const layout = {\n    labelCol: {\n      span: 5,\n    },\n    wrapperCol: {\n      span: 18,\n    },\n  };\n\n  return (\n    <Spin spinning={loading}>\n      <Form\n        {...layout}\n        name=\"basic\"\n        initialValues={{\n          name: props.project.name,\n          describe: props.project.describe,\n          dateRange: [global.G_DATE_FORMAT(props.project.startTime, 'self'), global.G_DATE_FORMAT(props.project.endTime, 'self')],\n          type: props.project.type,\n          stage: props.project.stage,\n          status: props.project.status,\n        }}\n        onFinish={onFinish}\n      >\n        <Form.Item\n          label=\"项目名称\"\n          name=\"name\"\n          rules={[\n            {\n              required: true,\n              message: '请输入项目名称！',\n            },\n          ]}\n        >\n          <Input placeholder=\"输入项目名称（可以使用中英文、数字组合）\" />\n        </Form.Item>\n        <Form.Item\n          label=\"起止时间\"\n          name=\"dateRange\"\n        >\n          <RangePicker />\n        </Form.Item>\n        <Form.Item\n          label=\"项目描述\"\n          name=\"describe\"\n        >\n          <TextArea rows={4} placeholder=\"100字以内项目描述（选填）\" />\n        </Form.Item>\n        <Form.Item\n          label=\"项目类型\"\n          name=\"type\"\n        >\n          <Select placeholder=\"选择项目类型\">\n            {\n              global.G_ENUM.projectTypes.map((type, index) => {\n                return <Option key={index} value={type}>{type}</Option>\n              })\n            }\n          </Select>\n        </Form.Item>\n        <Form.Item\n          label=\"项目状态\"\n          name=\"status\"\n        >\n          <Select placeholder=\"选择项目状态\">\n            {\n              global.G_ENUM.projectStatus.map((status) => {\n                return <Option key={status.value} value={status.value}>{status.label}</Option>\n              })\n            }\n          </Select>\n        </Form.Item>\n        <Form.Item\n          label=\"项目阶段\"\n          name=\"stage\"\n        >\n          <Select placeholder=\"选择项目阶段\">\n            {\n              global.G_ENUM.projectStages.map((type, index) => {\n                return <Option key={index} value={type}>{type}</Option>\n              })\n            }\n          </Select>\n        </Form.Item>\n\n        <div className=\"d-textalign-center\">\n          <Button loading={loading} type=\"primary\" htmlType=\"submit\">立即新建</Button>\n          <Button type=\"dashed\" onClick={onCancel} style={{marginLeft:15}}>取消</Button>\n        </div>\n      </Form>\n    </Spin>\n  );\n};\n\nexport default Home;","import React, { Component, useState, useEffect } from 'react';\nimport { Table, Form, Input, Button, DatePicker, Select, message, Popover, Modal } from 'antd';\nimport { CheckOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\nimport {\n  getUsers,\n  getProject,\n  setProjectPerson,\n  getStandardRoles,\n  modifyProject,\n  changeProjectUser,\n  deleteProjectUser\n} from '../../../services/api';\nimport './Common.less';\nconst { RangePicker } = DatePicker;\nconst { TextArea } = Input;\nconst { Option } = Select;\n\n/**\n* 设置项目成员组件\n*/\nconst SetPersonUnit = (props) => {\n\n  // 状态控制\n  const [loading, setLoading] = useState(true);\n  const [selectedUser, setSelectedUser] = useState({});\n  const [users, setUsers] = useState([]);\n  const [standardRoles, setStandardRoles] = useState([]);\n\n  useEffect(() => {\n    handleGetStandardRoles();\n    handleGetProject();\n  }, []);\n\n  // 取消表单\n  const onCancel = values => {\n    props.onclose('cancel');\n  };\n\n  // 获取标准角色\n  const handleGetStandardRoles = async () => {\n    let res = await getStandardRoles();\n    setStandardRoles(res.standardRoles);\n  }\n\n  // 获取项目详情\n  const handleGetProject = async () => {\n    let res = await getProject(props.project.uuid);\n    setUsers(res.project.Users);\n    setLoading(false);\n  }\n\n  // 选中人员\n  const handleSelectedUserRole = async (user) => {\n    setSelectedUser(user);\n  }\n\n  // 选中角色\n  const handleSelectedRole = async (user, role, hasRole) => {\n\n    let type = hasRole ? 'delete' : 'create';\n\n    if (type === 'delete' && user.roles.length < 2) {\n      return message.warning('至少应存在一个有效角色！', 1);\n    }\n\n    handleUserRole({ type, roleCode: role.code });\n\n  }\n\n  // 处理人员角色\n  const handleUserRole = async (datas) => {\n    let res = await changeProjectUser(props.project.uuid, selectedUser.uuid, datas);\n    if (res.errcode >= 0) {\n      handleGetProject();\n    }\n  }\n\n  // 删除项目指定人员\n  const handleDeleteProjectUser = (user) => {\n    Modal.confirm({\n      title: `确定要将「${user.name}」移除本项目吗?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '移除后可再次加入本项目',\n      okType: 'danger',\n      onOk: async () => {\n        let res = await deleteProjectUser(props.project.uuid, user.uuid);\n        if (res.errcode >= 0) {\n          message.success('移除成功！', 1);\n          handleGetProject();\n        }\n      },\n      onCancel() {\n      },\n    });\n  }\n\n  let columns = [\n    {\n      title: '序号',\n      dataIndex: 'index',\n      width: 50,\n      render: (text, record, index) => {\n        return index + 1;\n      }\n    },\n    {\n      title: '姓名',\n      dataIndex: 'name',\n      width: 80,\n      render: (text, record, index) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '手机号',\n      dataIndex: 'mobile',\n      width: 100,\n      render: (text, record, index) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '邮箱',\n      dataIndex: 'email',\n      render: (text, record, index) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '所属角色',\n      dataIndex: 'role',\n      render: (text, record, index) => {\n        let roleStr = record.roles.map(o => o.name).join('、');\n        let roleCodes = record.roles.map(o => o.code);\n        const content = (\n          <div className=\"d-dropdown-menu-container\">\n            <ul>\n              {\n                standardRoles.map((role) => {\n                  let hasRole = roleCodes.includes(role.code);\n                  return (\n                    <li key={role.id} onClick={() => handleSelectedRole(record, role, hasRole)}>\n                      { hasRole &&  <CheckOutlined className=\"d-dropdown-icon\" />}\n                      { role.name }\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n        );\n        return (\n          <Popover placement=\"bottom\" content={content} trigger=\"click\">\n            <div className=\"d-link\" onClick={() => handleSelectedUserRole(record)}>{roleStr || '/'}</div>\n          </Popover>\n        )\n      }\n    },\n    {\n      title: '操作',\n      dataIndex: 'options',\n      render: (text, record, index) => {\n        return <Button type=\"link\" danger onClick={() => handleDeleteProjectUser(record)}>移除</Button>\n      }\n    },\n  ];\n\n  return (\n    <div>\n      <AddPersonUnit {...props} standardRoles={standardRoles} callbackParent={handleGetProject} />\n      <Table\n        className=\"d-table-center-container\"\n        dataSource={users}\n        columns={columns}\n        loading={loading}\n        pagination={false}\n        rowKey={record => record.id}\n        bordered\n      />\n    </div>\n  );\n};\n\n/**\n* 新增项目成员组件\n*/\nconst AddPersonUnit = (props) => {\n\n  const [form] = Form.useForm();\n\n  // 状态控制\n  const [loading, setLoading] = useState(false);\n  const [isVisible, setIsVisible] = useState(false);\n  const [globalUsers, setGlobalUsers] = useState(false);\n\n  useEffect(() => {\n    handleGetUsers();\n  }, []);\n\n  const handleVisible = () => {\n    setIsVisible(!isVisible);\n  }\n\n  // 获取所有人员\n  const handleGetUsers = async () => {\n    let res = await getUsers();\n    setGlobalUsers(res.users);\n  }\n\n  // 提交表单\n  const onFinish = async (values) => {\n\n    const { userIds, roleCode } = values;\n\n    let datas = {};\n\n    datas.users = userIds.map((userId) => {\n      return {\n        userId,\n        roleCode\n      }\n    });\n\n    setLoading(true);\n\n    let res = await setProjectPerson(props.project.uuid, datas);\n\n    setLoading(false);\n\n    if (res.errcode >= 0) {\n      form.resetFields();\n      message.success('项目人员添加成功！');\n      props.callbackParent(); // 通知父容器\n    }\n\n  };\n\n  // 表单布局\n  const layout = {\n    labelCol: {\n      span: 4,\n    },\n    wrapperCol: {\n      span: 18,\n    },\n  };\n\n  return (\n    <div style={{marginBottom:15}}>\n      {\n        isVisible ?\n          <Form\n            {...layout}\n            form={form}\n            name=\"basic\"\n            initialValues={{\n              type: '客户定制开发类',\n              stage: '开始',\n            }}\n            onFinish={onFinish}\n            className=\"d-addperson\"\n          >\n            <Form.Item\n              label=\"人员\"\n              name=\"userIds\"\n              rules={[\n                {\n                  required: true,\n                  message: '请选择人员！',\n                },\n              ]}\n            >\n              <Select\n                mode=\"multiple\"\n                style={{ width: '100%' }}\n                placeholder=\"请选择人员\"\n              >\n                {\n                  globalUsers.map((user) => {\n                    return <Option key={user.id} value={user.id}>{user.name} { user.mobile && <small className=\"d-text-gray\">{user.mobile.slice(6, 10)}</small> }</Option>\n                  })\n                }\n              </Select>\n            </Form.Item>\n            <Form.Item\n              label=\"角色\"\n              name=\"roleCode\"\n              rules={[\n                {\n                  required: true,\n                  message: '请选择角色！',\n                },\n              ]}\n            >\n              <Select\n                placeholder=\"请选择角色\"\n              >\n                {\n                  props.standardRoles.map((role) => {\n                    return <Option key={role.id} value={role.code}>{role.name} <small className=\"d-text-gray\">{role.shorthand}</small></Option>\n                  })\n                }\n              </Select>\n            </Form.Item>\n            <div className=\"d-textalign-center\">\n              <Button loading={loading} type=\"primary\" htmlType=\"submit\">立即添加</Button>\n              <Button type=\"dashed\" onClick={handleVisible} style={{marginLeft:15}}>取消</Button>\n            </div>\n          </Form>\n        :\n          <Button type=\"primary\" onClick={handleVisible}>添加人员</Button>\n      }\n    </div>\n  )\n}\n\nexport default SetPersonUnit;","import React, { Component, useState, useEffect } from 'react';\nimport { Table} from 'antd';\nimport { getStandardRoles } from '../../../services/api';\n\nconst RoleUnit = (props) => {\n\n  // 状态控制\n  const [loading, setLoading] = useState(true);\n  const [standardRoles, setStandardRoles] = useState([]);\n\n  useEffect(() => {\n    handleGetStandardRoles();\n    return () => {\n      // 销毁处理...\n    }\n  }, []);\n\n  // 获取标准角色\n  const handleGetStandardRoles = async () => {\n    let res = await getStandardRoles('?type=detail');\n    setStandardRoles(res.standardRoles);\n    setLoading(false);\n  }\n\n  let columns = [\n    {\n      title: '序号',\n      dataIndex: 'index',\n      width: 50,\n      render: (text, record, index) => {\n        return index + 1;\n      }\n    },\n    {\n      title: '名称',\n      dataIndex: 'name',\n      width: 120,\n      render: (text, record) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '简称',\n      dataIndex: 'shorthand',\n      width: 80,\n      render: (text, record) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '编码',\n      dataIndex: 'code',\n      width: 150,\n      render: (text, record) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '职责',\n      dataIndex: 'duty',\n      render: (text, record) => {\n        return text || '/';\n      }\n    },\n    {\n      title: '创建时间',\n      dataIndex: 'createdAt',\n      width: 120,\n      render: (text, record) => {\n        return global.G_DATE_FORMAT(text);\n      }\n    }\n  ];\n\n  return (\n    <div>\n      <Table\n        className=\"d-table-center-container\"\n        dataSource={standardRoles}\n        columns={columns}\n        loading={loading}\n        pagination={false}\n        rowKey={record => record.id}\n        bordered\n      />\n    </div>\n  );\n\n}\n\nexport default RoleUnit;","import React, { Component, Fragement } from 'react';\nimport { Table, Button, Tag } from 'antd';\nimport { UserOutlined, TeamOutlined } from '@ant-design/icons';\nimport { getModularAuths } from '../../../services/api';\n\nimport DrawerUnit from '../../../components/Drawer';\n\nclass ProjectPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      dataSource: [],\n      columns: [],\n      subModalComponent: null,\n      subModalTitle: null,\n    }\n  }\n  componentDidMount() {\n    this.handleGetModularAuths();\n  }\n  handleGetModularAuths = async () => {\n    this.setState({ loading: true });\n\n    let res = await getModularAuths();\n\n    let columns = [\n      {\n        title: '序号',\n        dataIndex: 'index',\n        width: 50,\n        render: (text, record, index) => {\n          return index + 1;\n        }\n      },\n      {\n        title: '类型',\n        width: 100,\n        dataIndex: 'type',\n      },\n      {\n        title: '编码',\n        dataIndex: 'code',\n        width: 150,\n        render: (text, record) => {\n          return text || '/';\n        }\n      },\n      {\n        title: '录入时间',\n        dataIndex: 'createdAt',\n        width: 100,\n        render: (text, record) => {\n          return global.G_DATE_FORMAT(text);\n        }\n      },\n      {\n        title: '权限拥有者',\n        dataIndex: 'owner',\n        render: (text, record) => {\n          if (record.AuthModularItems.length > 0) {\n            return (\n              <div>\n                {\n                  record.AuthModularItems.map((auth) => {\n                    if (auth.User) {\n                      return <Tag key={auth.id} style={{marginTop:2,marginBottom:2}}>{auth.User.name}</Tag>\n                    } else {\n                      return <Tag key={auth.id} icon={<TeamOutlined />} style={{marginTop:2,marginBottom:2}}>{auth.StandardRole.name}</Tag>\n                    }\n                  })\n                }\n              </div>\n            )\n          } else {\n            return '/';\n          }\n        }\n      },\n      {\n        title: '备注',\n        dataIndex: 'remark',\n        render: (text, record) => {\n          return <div style={{minWidth:100}}>{text || '/'}</div>;\n        }\n      },\n      {\n        title: '操作',\n        dataIndex: 'options',\n        width: 100,\n        render: (text, record) => {\n          return (\n            <>\n              <Button size=\"small\" type=\"link\" danger>修改</Button>\n            </>\n          )\n        }\n      }\n    ];\n\n    this.setState({\n      columns,\n      dataSource: res.modularAuths,\n      visible: false,\n      loading: false\n    });\n  }\n  handleVisibleDrawer = (type, record) => {\n    let subModalComponent, subModalTitle;\n    let { visible } = this.state;\n\n    switch (type) {\n      case 'cancel':\n      break;\n      default:\n      break;\n    }\n\n    this.setState({\n      visible: !visible,\n      subModalTitle,\n      subModalComponent\n    });\n  }\n  render() {\n    const state = this.state;\n    return (\n      <div>\n        <div style={{marginBottom:15}}>\n          <Button type=\"primary\" onClick={this.handleVisibleDrawer.bind(this, 'createProject')}>新增授权</Button>\n          <small className=\"d-text-gray\">（当前共有授权模块{state.dataSource.length}个）</small>\n        </div>\n        <Table\n          className=\"d-table-center-container\"\n          dataSource={state.dataSource}\n          columns={state.columns}\n          loading={state.loading}\n          rowKey={record => record.id}\n          bordered\n          pagination={{ pageSize: 20 }}\n        />\n        <DrawerUnit\n          title={state.subModalTitle}\n          isVisible={state.visible}\n          callbackParent={this.handleVisibleDrawer}\n        >\n          { state.subModalComponent }\n        </DrawerUnit>\n      </div>\n    );\n  }\n}\n\nexport default ProjectPage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button } from 'antd';\nimport {\n  LoadingOutlined\n} from '@ant-design/icons';\nimport './Common.less';\n\nconst Warning = (props) => {\n  const { type } = props;\n\n  if (type === 'selectMenu') {\n    return (\n      <center style={{marginTop:'3rem'}}>\n        <embed src=\"http://docs.antjob.ink/funenc/settings_tab_mgiw.svg\" width=\"500\" height=\"200\" type=\"image/svg+xml\" />\n        <div className=\"d-margin-15-0\">请选择左侧菜单栏！</div>\n      </center>\n    )\n  }\n  \n  if (type === 'card-loading') {\n    return (\n      <center style={{marginTop:'3rem'}}>\n        <embed src=\"http://docs.antjob.ink/funenc/Ride_till_I_can_no_more_44wq.svg\" className=\"d-opacity-loop\" width=\"500\" height=\"200\" type=\"image/svg+xml\" />\n        <div className=\"d-margin-15-0\"><LoadingOutlined /> 数据加载中...</div>\n      </center>\n    )\n  }\n\n  if (type === 'loading') {\n    return (\n      <center>\n        <div className=\"d-margin-15-0\"><LoadingOutlined /> 数据加载中...</div>\n      </center>\n    )\n  }\n\n  return (\n    <center>....</center>\n  );\n}\n\nexport default Warning;","import React, { Component, Fragment } from 'react';\nimport { Menu } from 'antd';\n\nimport LayoutHOC from '../../components/Layout';\nimport ProjectPage from './project/Home';\nimport RolePage from './role/Home';\nimport AuthorizationPage from './authorization/Home';\nimport WarningUnit from '../common/Warning';\n\nimport './Common.less';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}\n  }\n  componentDidMount() {\n  }\n  handleMenu = (e) => {\n    const { key } = e;\n\n    this.props.history.push(`/console/${key}`);\n\n  }\n  render() {\n    const state = this.state;\n\n    let realKeys = global.G_SPLIT_URL_PARAMS();\n    let defaultSelectedKey = realKeys[1] || '无';\n\n    let subComponent;\n\n    switch(defaultSelectedKey) {\n      case 'project':\n        subComponent = <ProjectPage />\n      break;\n      case 'role':\n        subComponent = <RolePage />\n      break;\n      case 'authorization':\n        subComponent = <AuthorizationPage />\n      break;\n      default:\n        subComponent = <WarningUnit type=\"selectMenu\" />\n      break;\n    }\n\n    return (\n      <Fragment>\n        <div className=\"d-left-container\">\n          <Menu\n            onClick={this.handleMenu}\n            selectedKeys={defaultSelectedKey}\n            mode=\"inline\"\n          >\n            <Menu.Item key=\"project\">\n              项目管理\n            </Menu.Item>\n            <Menu.Item key=\"role\">\n              角色管理\n            </Menu.Item>\n            <Menu.Item key=\"authorization\">\n              授权管理\n            </Menu.Item>\n          </Menu>\n        </div>\n        <div className=\"d-right-container\">\n          { subComponent }\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default LayoutHOC(Home);"],"sourceRoot":""}